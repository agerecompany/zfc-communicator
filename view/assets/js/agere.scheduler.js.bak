AgereCommunicator = {
	init: function() {
		scheduler.config.xml_date="%Y-%m-%d %H:%i";
		scheduler.config.prevent_cache = true;

		scheduler.config.lightbox.sections=[
			{name:"description", height:130, map_to:"text", type:"textarea" , focus:true},
			{name:"location", height:43, type:"textarea", map_to:"details" },
			{name:"time", height:72, type:"time", map_to:"auto"}
		];
		scheduler.config.first_hour = 4;
		scheduler.config.limit_time_select = true;
		scheduler.locale.labels.section_location="Location";
		//scheduler.config.details_on_create=true;
		//scheduler.config.details_on_dblclick=true;


		scheduler.init('scheduler_here', new Date(),"week");
		scheduler.setLoadMode("week")
		/*scheduler.load("media/dhtmlxscheduler/events.php");

		var dp = new dataProcessor("media/dhtmlxscheduler/events.php");*/
		scheduler.load("communicator/test");

		var dp = new dataProcessor("communicator/test");
		dp.init(scheduler);

	},

	show_minical: function() {
	if (scheduler.isCalendarVisible())
		scheduler.destroyCalendar();
	else
		scheduler.renderCalendar({
			position:"dhx_minical_icon",
			date:scheduler._date,
			navigation:true,
			handler:function(date,calendar){
				scheduler.setCurrentView(date);
				scheduler.destroyCalendar()
			}
		});
	},
}
jQuery(document).ready(function ($) {
	AgereCommunicator.init();
});